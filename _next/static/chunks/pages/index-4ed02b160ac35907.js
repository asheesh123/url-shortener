(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(2160)}])},2160:function(n,e,r){"use strict";function t(n,e,r,t,s,o,i){try{var c=n[o](i),l=c.value}catch(u){return void r(u)}c.done?e(l):Promise.resolve(l).then(t,s)}function s(n){return function(){var e=this,r=arguments;return new Promise((function(s,o){var i=n.apply(e,r);function c(n){t(i,s,o,c,l,"next",n)}function l(n){t(i,s,o,c,l,"throw",n)}c(void 0)}))}}r.r(e),r.d(e,{default:function(){return d}});var o=r(4051),i=r.n(o),c=r(5893),l=r(9008),u=r.n(l),a=r(214),h=r.n(a),f=r(7294);function d(){var n=(0,f.useState)([]),e=n[0],r=n[1],t=(0,f.useState)(""),o=t[0],l=t[1],a=function(){var n=s(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:fetch("/api/url-shortener/get-all").then((function(n){return n.json()})).then((function(n){console.log(n),r(n.shortUrls)}));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();(0,f.useEffect)((function(){a()}),[]);var d=function(){var n=s(i().mark((function n(){var e,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/url-shortener/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({full:o})});case 2:return e=n.sent,n.next=5,e.json();case 5:r=n.sent,console.log(r);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,c.jsxs)("div",{className:h().container,children:[(0,c.jsxs)(u(),{children:[(0,c.jsx)("title",{children:"Url Shortener"}),(0,c.jsx)("link",{rel:"icon",href:"/url-shortener/favicon.ico"}),(0,c.jsx)("link",{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css",integrity:"sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh",crossOrigin:"anonymous"})]}),(0,c.jsxs)("div",{className:"container",children:[(0,c.jsx)("h1",{children:"URL Shrinker"}),(0,c.jsxs)("form",{className:"my-4 form-inline",onSubmit:function(n){n.preventDefault(),d()},children:[(0,c.jsx)("label",{htmlFor:"fullUrl",className:"sr-only",children:"Url"}),(0,c.jsx)("input",{required:!0,value:o,placeholder:"Enter your url here...",type:"url",name:"fullUrl",className:"form-control col mr-2",onChange:function(n){l(n.target.value)}}),(0,c.jsx)("button",{className:"btn btn-success",type:"submit",children:"Shrink"})]}),(0,c.jsxs)("table",{className:"table table-striped table-responsive",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:"Full URL"}),(0,c.jsx)("th",{children:"Short URL"}),(0,c.jsx)("th",{children:"Clicks"})]})}),(0,c.jsx)("tbody",{children:null===e||void 0===e?void 0:e.map((function(n){return(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,c.jsx)("a",{href:n.full,children:n.full})}),(0,c.jsx)("td",{children:(0,c.jsx)("a",{href:n.short,children:n.short})}),(0,c.jsx)("td",{children:n.clicks})]},n.short)}))})]})]})]})}},214:function(){},9008:function(n,e,r){n.exports=r(5443)}},function(n){n.O(0,[774,888,179],(function(){return e=8312,n(n.s=e);var e}));var e=n.O();_N_E=e}]);